pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
-- tiny tanks
-- by ethan jurman

----------------
-- todo
--  tank explosions
--  when tanks die, clear bullets
--  check health
--  select screen (6 tanks)
--  victory screen
--  have local support working
--  room screen
----------------

debug=""
game_state="menu"
frame=0
num_of_players=6
selected_player=3

function update_game()
 for i=0,num_of_players-1 do
  if (i==selected_player) then
  -- update selected player last
  else 
   update_tank(i)
  end
 end
 update_tank(selected_player)
end

function _init()
	start_menu()
end

function _update()
 frame+=1
 if game_state=="game" then
  update_game()
 end
 if game_state=="menu" then
  update_menu()
 end
end

function _draw()
 if game_state=="game" then
	 cls()
	 palt(0,false)
	 map()
	 --print("debug:"..debug,8,0,7)
	 for i=0,num_of_players-1 do
   draw_tank(i)
		end
	end
	if game_state=="menu" then
	 cls()
	 --print("debug:"..debug,8,0,7)
	 draw_menu()
	end
end
-->8
-- tank

plyrs={}

function init_tank(p_num)
	plyrs[p_num]={}
	plyrs[p_num].x=(cos(p_num/6)*50)+62
	plyrs[p_num].y=(sin(p_num/6)*50)+62
	plyrs[p_num].dir=0
	plyrs[p_num].pushback=0
	plyrs[p_num].hp=10
	plyrs[p_num].blts={
	 -- x, y, dir/state
	 -- state: 
	 --        0-7   tiny bullet
	 --        8-0xf big bullet
		{0,0,0},
		{0,0,0},
		{0,0,0},
		{0,0,0},
		{0,0,0},
		{0,0,0},
		{0,0,0},
		{0,0,0},
		{0,0,0},
		{0,0,0}
	}
end

function get_tank_color(plyr)
	if plyr==5 then return 14 end
	return 9+plyr-1
end

function process_enemy_blts()
	-- check if we got hit
 for t=0,#plyrs do
  if t==selected_player then
   -- don't worry about 
   --  our own bullets
  else
   -- process enemy bullets
   for b=1,10 do
    local blt=plyrs[t].blts[b]
    if (blt[3] < 8 and 
        overlap_tank(blt[1],blt[2],1,1,selected_player)) then
     -- we got hit
     plyrs[selected_player].hp=max(plyrs[selected_player].hp-1,0)
     sfx(8)
    end
    if (blt[3] > 7 and 
        overlap_tank(blt[1],blt[2],5,5,selected_player)) then
     -- we got hit
     plyrs[selected_player].hp=max(plyrs[selected_player].hp-1,0)
     sfx(7)
    end
   end
  end
 end
end

function update_tank(p_num)
 if (selected_player==p_num) then
 	write_gpio(p_num)
	else
 	read_gpio(p_num)
 	return
 end
 process_enemy_blts()
 if (plyrs[p_num].hp < 0) then
 	return -- is ded
 end
 shoot_bullet(p_num)
 update_bullets(p_num)
 if plyrs[p_num].pushback > 0 then
  plyrs[p_num].pushback-=1
 end
 if btn(‚¨ÜÔ∏è) or 
    btn(‚û°Ô∏è) or 
    btn(‚¨áÔ∏è) or 
    btn(‚¨ÖÔ∏è) then
  sfx(1)
 end
	if btn(‚¨ÜÔ∏è) and 
	   btn(‚û°Ô∏è) then
	 plyrs[p_num].y-=0.75
	 plyrs[p_num].x+=0.75
	 plyrs[p_num].dir=1
	 return
	end
	if btn(‚û°Ô∏è) and 
	   btn(‚¨áÔ∏è) then
	 plyrs[p_num].y+=0.75
	 plyrs[p_num].x+=0.75
	 plyrs[p_num].dir=3
	 return
	end
	if btn(‚¨áÔ∏è) and 
	   btn(‚¨ÖÔ∏è) then
	 plyrs[p_num].y+=0.75
	 plyrs[p_num].x-=0.75
	 plyrs[p_num].dir=5
	 return
	end
	if btn(‚¨ÖÔ∏è) and 
	   btn(‚¨ÜÔ∏è) then
	 plyrs[p_num].x-=0.75
	 plyrs[p_num].y-=0.75
	 plyrs[p_num].dir=7
	 return
	end
	if btn(‚¨ÜÔ∏è) then 
	 plyrs[p_num].y-=1
	 plyrs[p_num].dir=0
	 return
	end
	if btn(‚¨áÔ∏è) then
	 plyrs[p_num].y+=1
	 plyrs[p_num].dir=4
	 return
	end
	if btn(‚¨ÖÔ∏è) then
	 plyrs[p_num].x-=1
	 plyrs[p_num].dir=6
	 return
	end
	if btn(‚û°Ô∏è) then
	 plyrs[p_num].x+=1
	 plyrs[p_num].dir=2
	 return
	end
end

function draw_tank_hp(p_num)
	local tank=plyrs[p_num]
	for hp=1,tank.hp do
  pset(tank.x-4+hp,tank.y+6,8)
 end
end

function draw_tank_explode(p_num)
	circfill(
	 plyrs[p_num].x+3,
	 plyrs[p_num].y+3,
	 frame/4 % 5,
	 frame/4
	)
end

function draw_tank(p_num)
 if plyrs[p_num].hp==0 then
  draw_tank_explode(p_num)
  return
 end
 draw_tank_hp(p_num)
 pal(11,get_tank_color(p_num))
 palt(0, true)
 draw_bullets(p_num)
 local x=plyrs[p_num].x
 local y=plyrs[p_num].y
 local dir=plyrs[p_num].dir
 local h=4
 local w=4
 local sx=08
 local sy=00
 local xf=false
 local yf=false
 if plyrs[p_num].pushback > 0 then
  plyrs[p_num].y+=(dir==7 or dir==0 or dir==1) and 1 or 0
  plyrs[p_num].y-=(dir==3 or dir==4 or dir==5) and 1 or 0  
  plyrs[p_num].x-=(dir==1 or dir==2 or dir==3) and 1 or 0
  plyrs[p_num].x+=(dir==5 or dir==6 or dir==7) and 1 or 0
 end
 if (dir==1 or dir==3 or dir==5 or dir==7) then
  sx=12
 end
 if (dir==2 or dir==6 or dir==8) then
  sy=04
 end
 if (dir>4) then 
  xf=true 
 end
 if (dir==3 or dir==4 or dir==5) then
  yf=true
 end
 sspr(sx,sy,h,w,x,y,h,w,xf,yf)
 pal(11,11)
end


-->8
-- bullets

function is_ignore(blt)
 -- ignore bullet if 0,0
	return blt[1]==0 and blt[2]==0
end

function shoot_bullet(p_num)
 if not selected_player==p_num then
 	return
 end
 local did_fire=false
 -- tiny bullets
	if btnp(üÖæÔ∏è) then
	 for b=1,10 do
	  if is_ignore(plyrs[p_num].blts[b]) then
	   sfx(0)
	   local blt={
				 plyrs[p_num].x+2,
				 plyrs[p_num].y+2,
				 plyrs[p_num].dir,
		  }
		  plyrs[p_num].blts[b]=blt
		  did_fire=true
		  plyrs[p_num].pushback=3
		  break
	  end
	 end
	 if did_fire == false then
	  sfx(3)
	 end
	end
	-- big bullet
	if btnp(‚ùé) then
	 for b=1,8 do
	  -- if 3 slots are empty, fire big bullet
	  b1=is_ignore(plyrs[p_num].blts[b])
	  b2=is_ignore(plyrs[p_num].blts[b+1])
	  b3=is_ignore(plyrs[p_num].blts[b+2])
	  if b1 and b2 and b3 then
	   sfx(2)
	   local xoffset=rnd(1) -- should be a lil offset
	   local blt1={
				 plyrs[p_num].x-xoffset,
				 plyrs[p_num].y-0,
				 plyrs[p_num].dir + 8,
		  }
		  plyrs[p_num].blts[b]=blt
	   local blt2={
				 plyrs[p_num].x-xoffset,
				 plyrs[p_num].y-0,
				 plyrs[p_num].dir + 8,
		  }
		  plyrs[p_num].blts[b]=blt
	   local blt3={
				 plyrs[p_num].x-xoffset,
				 plyrs[p_num].y-0,
				 plyrs[p_num].dir + 8,
		  }
		  plyrs[p_num].blts[b]=blt1
		  plyrs[p_num].blts[b+1]=blt2
		  plyrs[p_num].blts[b+2]=blt3
		  did_fire=true
		  plyrs[p_num].pushback=6
		  break
		 end
	 end
	 if did_fire == false then
	  sfx(3)
	 end
	end
end

function collision_bullets(p_num)
 for b=1,10 do
  blt=plyrs[p_num].blts[b]
  if is_ignore(blt) then
  elseif (blt[1] > 128) or 
				     (blt[2] > 128) or
				     (blt[1] < 0) or
				     (blt[2] < 0) then
			-- set bullet to ignore if 
			--  out of bounds
   blt[1]=0
   blt[2]=0
	  plyrs[p_num].blts[b]=blt
  end 

  -- check if hitting enemy
  for t=0,#plyrs do
   if t==p_num or is_ignore(blt) then
   elseif (overlap_tank(blt[1], blt[2],1,1,t)) then

   	blt[1]=0
   	blt[2]=0
   	plyrs[p_num].blts[b]=blt
   	plyrs[t].hp=max(plyrs[t].hp-1,0)
   	sfx(8)
	  elseif blt[4]==-2 and
	   overlap_tank(blt[1], blt[2],5,5,t) then	   

	   blt[1]=0
	   blt[2]=0
	   plyrs[p_num].blts[b]=blt
	   plyrs[t].hp=max(plyrs[t].hp-1,0)
	   sfx(7)
	  end
  end
	end
end

function update_bullets(p_num)
 collision_bullets(p_num)
	for b=1,10 do
  blt=plyrs[p_num].blts[b]
  if not (is_ignore(blt)) then 
	  if (
	    blt[3]%8 == 1 or 
	    blt[3]%8 == 2 or 
	    blt[3]%8 == 3) then
	    blt[1] += 2
	  end
	  if (
	    blt[3]%8 == 5 or 
	    blt[3]%8 == 6 or
	    blt[3]%8 == 7) then
	    blt[1] -= 2
	  end
	  if (
	    blt[3]%8 == 0 or 
	    blt[3]%8 == 1 or
	    blt[3]%8 == 7) then
	    blt[2] -= 2 
	  end
	  if (
	    blt[3]%8 == 3 or 
	    blt[3]%8 == 4 or
	    blt[3]%8 == 5) then
	    blt[2] += 2
	  end
	 end
  
  plyrs[p_num].blts[b]=blt
	end
end

function draw_bullet_counter(p_num)
	local tank=plyrs[p_num]
	for b=1,10 do
 	if not is_ignore(plyrs[p_num].blts[b]) then
  	pset(tank.x-4+b,tank.y+5,0)
  else
   pset(tank.x-4+b,tank.y+5,7)
  end
 end
end

function draw_bullets(p_num)
 draw_bullet_counter(p_num)
	for b=1,10 do
	 if is_ignore(plyrs[p_num].blts[b]) then
	 elseif (plyrs[p_num].blts[b][3] > 7) then
	  local blt=plyrs[p_num].blts[b]
	  print(
	   "‚óè",
	   blt[1],
			 blt[2],
			 7
	  )
  else
	  local blt=plyrs[p_num].blts[b]
	  pset(
	   blt[1],
			 blt[2],
			 7
	  )
	 end
	end
end
-->8
-- start screen

-- menu state
-- can be:room, tank, or ready
menu_state="room"
room_code_index=1

function start_menu()
	game_state="menu"
	music(0)
 r_arrow={}
 r_arrow.x=68
 r_arrow.y=64
 r_arrow.shake=0
 l_arrow={}
 l_arrow.x=49
 l_arrow.y=64
 l_arrow.shake=0
 x_shake=0
 go_to_room()
end

function go_to_room()
	menu_state="room"
	r_arrow.x=80
 r_arrow.y=50
 l_arrow.x=38
 l_arrow.y=50
end

function go_to_tank()
 menu_state="tank"
 r_arrow.x=68
 r_arrow.y=64
 l_arrow.x=49
 l_arrow.y=64
end

function go_to_ready()
 menu_state="ready"
 r_arrow.x=-10
 r_arrow.y=-10
 l_arrow.x=-10
 l_arrow.y=-10
end

function update_menu()
 local sp = selected_player
 
	-- update the shakes
	if (r_arrow.shake>0) r_arrow.shake-=1
	if (l_arrow.shake>0) l_arrow.shake-=1
	if (x_shake>0) x_shake-=1
	
 -- has both room and tank
 if menu_state=="ready" then
  if (btnp(‚ùé)) start_game()
  if (btnp(üÖæÔ∏è)) go_to_tank()
  return
 end
 
 -- selecting a tank
 if menu_state=="tank" then
  if (btnp(‚û°Ô∏è)) then
	  sp+=1
	  r_arrow.shake=10
	  sfx(1)
	 end
	 if (btnp(‚¨ÖÔ∏è)) then 
	  sp-=1
	  l_arrow.shake=10
	  sfx(1)
	 end
	 if (btnp(‚ùé)) go_to_ready()
	 if (btnp(üÖæÔ∏è)) go_to_room()
	 selected_player=sp % 6
	 return
 end
 
 -- selecting a room
 if menu_state=="room" then
  if (btnp(‚ùé)) go_to_tank()
  if (btnp(‚û°Ô∏è)) then
	  r_arrow.shake=10
	  room_code_index+=1
	  sfx(1)
	 end
	 if (btnp(‚¨ÖÔ∏è)) then 
	  l_arrow.shake=10
	  room_code_index-=1
	  sfx(1)
	 end
	 if (btnp(‚¨ÜÔ∏è)) then
	  room_code[room_code_index]+=1
	  room_code[room_code_index]=room_code[room_code_index]%10
	  sfx(1)
	 end
	 if (btnp(‚¨áÔ∏è)) then
	  room_code[room_code_index]-=1 
	  room_code[room_code_index]=room_code[room_code_index]%10
	  sfx(1)
	 end
	 return
 end
end

function draw_title(title_color, title_offset,frame_offset)
 local s=2
 local x=28
 local y=8
 local yo=title_offset
 function dy(offset)
  return abs(y-((((frame+frame_offset)/2)+offset))%16)
 end
 pal(7,title_color)
 spr(s+00,x+00,yo+dy(-0)) --t
 spr(s+01,x+09,yo+dy(-1)) --i
 spr(s+02,x+13,yo+dy(-2)) --n
 spr(s+03,x+21,yo+dy(-3)) --y
 spr(s+00,x+34,yo+dy(-1)) --t
 spr(s+04,x+43,yo+dy(-2)) --a
 spr(s+02,x+51,yo+dy(-3)) --n
 spr(s+05,x+59,yo+dy(-4)) --k
 spr(s+06,x+66,yo+dy(-5)) --s
 pal(7,7)
end

function draw_sides()
	for y=-1,15 do
	 spr(65,0,y*8+(frame/3)%2)
	 spr(64,15*8,y*8+(frame/3)%2)
	end
end

function draw_tank_select()
 local x_offset=0
 if menu_state=="tank" then
	 if (r_arrow.shake>4) then
	  x_offset=10-r_arrow.shake
	 elseif (l_arrow.shake>4) then
	  x_offset=-(10-l_arrow.shake)
	 else
	  x_offset=-r_arrow.shake+l_arrow.shake
	 end
	end
 local x=60+x_offset
 local y=64
 local dir=0
 local h=4
 local w=4
 local sx=08
 local sy=00
 local xf=false
 local yf=false
 dir=flr((frame/11) % 8)
 if (dir==1 or dir==3 or dir==5 or dir==7) then
  sx=12
 end
 if (dir==2 or dir==6 or dir==8) then
  sy=04
 end
 if (dir>4) then 
  xf=true 
 end
 if (dir==3 or dir==4 or dir==5) then
  yf=true
 end
 local tank_color = get_tank_color((selected_player
  - (r_arrow.shake>=5 and 1 or 0)
  + (l_arrow.shake>=5 and 1 or 0))
 % 6)
 pal(11,tank_color)
 palt(0, true)
	sspr(sx,sy,h,w,x,y,h,w,xf,yf)
	pal(11,11)
	if menu_state=="tank" then
		print("‚û°Ô∏è", 
		 r_arrow.x+rnd(r_arrow.shake/2),
		 r_arrow.y-(rnd(r_arrow.shake/2))+(rnd(r_arrow.shake/2)),
		 get_tank_color((selected_player+1)%6))
	 print("‚¨ÖÔ∏è", 
	  l_arrow.x-rnd(l_arrow.shake/2), 
	  l_arrow.y+rnd(l_arrow.shake/2)-(rnd(l_arrow.shake/2)), 
	  get_tank_color((selected_player-1)%6))
	end
end

function draw_room_code()
 if menu_state=="room" then
	 print("‚û°Ô∏è", 
		 r_arrow.x+rnd(r_arrow.shake/2),
		 r_arrow.y-(rnd(r_arrow.shake/2))+(rnd(r_arrow.shake/2)),
		 7)
		print("‚¨ÖÔ∏è", 
		 l_arrow.x-rnd(l_arrow.shake/2), 
		 l_arrow.y+rnd(l_arrow.shake/2)-(rnd(l_arrow.shake/2)), 
	  7)
	 offsetx=room_code_index*8
	 print("_",41+offsetx, 52, 11)
	end
	print("room code", 45, 42, menu_state=="room" and 11 or 7)
	if (menu_state=="room") then
	 print(room_code[1], 49,50, room_code_index==1 and 11 or 7)
	 print(room_code[2], 57,50, room_code_index==2 and 11 or 7)
	 print(room_code[3], 65,50, room_code_index==3 and 11 or 7)
	 print(room_code[4], 73,50, room_code_index==4 and 11 or 7)
	else
	 print(room_code[1].." "..
	       room_code[2].." "..
	       room_code[3].." "..
	       room_code[4], 49,50, 7)
	end
end

function draw_menu()
 draw_tank_select()
 draw_title(03,16,0)
 draw_title(11,16,2)
 draw_title(07,16,4)
 draw_sides()
 draw_room_code()
 color_stale=7
 color_flash=8+((frame/2)%6)
 if menu_state=="room" then
  print("", 31, 90, color_stale)
 	print("press ‚ùé to lock in room", 18, 100, color_flash)
 elseif menu_state=="tank" then
 	print("press üÖæÔ∏è to change room", 19, 90, color_stale)
 	print("press ‚ùé to pick a tank", 19, 100, color_flash)
 elseif menu_state=="ready" then
 	print("press üÖæÔ∏è to change tank", 19, 90, color_stale)
 	print("press ‚ùé to start", 30, 100, color_flash)
 end
end

function start_game()
 game_state="game"
 for i=0,num_of_players-1 do
  init_tank(i)	
 end
	music(4)
end
-->8
-- math functions

function overlap(x1,y1,h1,w1,
                 x2,y2,h2,w2)
	if (x1+w1<x2) return false
	if (x1>x2+w2) return false
	if (y1+h1<y2) return false
	if (y1>y2+h2) return false
	return true
end

function overlap_tank(x1,y1,h1,w1,tank_num)
	return overlap(
	 x1,y1,h1,w1,
	 plyrs[tank_num].x,
	 plyrs[tank_num].y,
	 4,
	 4
	)
end
-->8
-- gpio (‚óÜnetcode‚óÜ)

room_code = {0,0,0,0}

function write_gpio(p_num)
	local tank=plyrs[p_num]
 -- send player tank number
	poke(0x5f80, p_num)
	-- send player x, y
	poke(0x5f81, tank.x) 
	poke(0x5f82, tank.y)
	-- send player direction
	poke(0x5f83, tank.dir)
	-- send player hp
	poke(0x5f84, tank.hp)
	for b=1,10 do
	 -- jump by 3 for each bullet
	 --  to give us x, y, state
	 local blt_addr=0x5f84+b*3
		poke(blt_addr, tank.blts[b][1])
		poke(blt_addr+1, tank.blts[b][2])
		poke(blt_addr+2, tank.blts[b][3])
	end
end

function read_gpio(p_num)
	-- read player tank number
 if (p_num == peek(0x5f80)) then
		local tank=plyrs[p_num]
		-- read player x, y
		tank.x=peek(0x5f81) 
		tank.y=peek(0x5f82)
		-- read player direction
		tank.dir=peek(0x5f83)
		tank.hp=peek(0x5f84)
		for b=1,10 do
		 -- jump by 3 for each bullet
		 --  to give us x, y, state
		 local blt_addr=0x5f84+b*3
			tank.blts[b][1]=peek(blt_addr)
			tank.blts[b][2]=peek(blt_addr+1)
			tank.blts[b][3]=peek(blt_addr+2)
		end
		plyrs[p_num]=tank
	end
end
__gfx__
000000000bb00b0b7777777777700000777007707770777077777770770077700077770000000000000000000000000000000000000000000000000000000000
00000000bbbbbbb07777777777700000777007707770777077777770770077700777777000000000000000000000000000000000000000000000000000000000
00700700bbbbbbbb7777777777700000777007707770777077777770770777007700077000000000000000000000000000000000000000000000000000000000
00077000bbbb0bb07777777777700000777707707770777077000770777770007770000000000000000000000000000000000000000000000000000000000000
00077000bbb000000077700077700000770707700777770077777770777700000777770000000000000000000000000000000000000000000000000000000000
00700700bbbb00000077700077700000770777700077700077000770777770000000777000000000000000000000000000000000000000000000000000000000
00000000bbbb00000077700077700000770077700077700077000770770777000777777000000000000000000000000000000000000000000000000000000000
00000000bbb000000077700077700000770077700077700077000770770077700077770000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101ddddddd101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00101ddddddd10100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101ddddddd101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00101ddddddd10100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101ddddddd101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00101ddddddd10100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101ddddddd101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00101ddddddd10100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003333000000000000000000000101dddd
dddd10100000000000000000000000000000000000000000000000000000000000000000000000000000000330033303bbbb3000000000000000000000101ddd
ddd101000000000000000000000000000000000000000000033303330000000000000000000000033300330bb00bbb3b7777b00000000000000000000101dddd
dddd101000000000000000000000000000000000033300330bbb0bbb00000000000000033333330bbb00bb07703777b777777000000000000000000000101ddd
ddd10100000000000000000000000000000003330bbb00bb07770777000000333333330bbbbbbb077700770773b77777b337700000000000000000000101dddd
dddd101000000000000000000000333333330bbb0777007707770777000000bbbbbbbb0777777707773077077b7770777bbb3000000000000000000000101ddd
ddd1010000000000000000000000bbbbbbbb0777077730770777377700000077777777077777770777b07707777700077777b00000000000000000000101dddd
dddd1010000000000000000000007777777707770777b0770777b77700000077777777077777770777737707777b300bbb777000000000000000000000101ddd
ddd1010000000000000000000000777777770777077773770077777000000077777777077bbb7707707b77077777b3077777700000000000000000000101dddd
dddd10100000000000000000000077777777077707707b77000777000000007777777707777777077077770770777b0077770000000000000000000000101ddd
ddd1010000000000000000000000777777770777077077770007770000000000777000077000770770077707700777000000000000000000000000000101dddd
dddd1010000000000000000000000077700007770770077700077700000000007770000770007707700777000000000000000000000000000000000000101ddd
ddd1010000000000000000000000007770000777077007770000000000000000777000077000770000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000077700007770000000000000000000000007770000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000007770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd10100000000000000000000000000000000000000000000aaaaa000000bb000000ccccc00000000000000000000000000000000000000000000000101dddd
dddd101000000000000000000000000000000000000000000aaa00aa0000bbbb0000cc00ccc00000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000aa000aa0000bbb00000cc000cc0000000000000000000000000000000000000000000000101dddd
dddd101000000000000000000000000000000000000000000aaa00aa00000b0b0000cc00ccc00000000000000000000000000000000000000000000000101ddd
ddd10100000000000000000000000000000000000000000000aaaaa00000000000000ccccc00000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000006660666066600660066000000666660000006660066000000660666066606660666000000000000000000000000101dddd
dddd1010000000000000000000000060606060600060006000000066060660000006006060000060000600606060600600000000000000000000000000101ddd
ddd1010000000000000000000000006660660066006660666000006660666000000600606000006660060066606600060000000000000000000000000101dddd
dddd1010000000000000000000000060006060600000600060000066060660000006006060000000600600606060600600000000000000000000000000101ddd
ddd1010000000000000000000000006000606066606600660000000666660000000600660000006600060060606060060000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd
ddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101dddd
dddd1010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101ddd

__map__
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4100000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000c3200b320093200732007320000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00010000040101a010050101b01004010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000100000c3400b340093400734007340000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000100002f61030610326103361000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00160000183151f315183151f3151d3151f3151d3151f315183151f315183151f31528315263152831526315183151d315183151d315183151c315183151c315183151d315183151d315183151a3151f3151a315
001600000c3150c315000050e3050c3050c3050e315103150c3150c315000050000500005000050e315103150e3150e315000050000500005000050e315103150c3150c315000050000500005000050000500005
001600000000500005103150e315103151131500005000050000500005153151131513315103150000500005000050000515315133151131510315000050000500005000050c315113150c315113150c31511315
000100001d05006050090501b0500e0500f0501c05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000100001915019150181500b1500d1500e1500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001600001831527000183151831500000183151c3150000018315000001831518315000001a31518315000001831500000183151831500000183151c315000001f315000001f3151f315000001f3151c3151a315
__music__
00 044f4344
01 04054344
00 04050644
02 04050606
01 09424344
01 09064344
00 09054444
00 09064344
00 09050444
02 09050406

